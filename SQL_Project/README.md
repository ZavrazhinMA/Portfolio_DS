# **Проект БД. "Расчеты за электроэнергию для населения"**

База данных предназначена для расчета объемов и хранения информации о потреблении электроэнергии населением. В БД предусмотрены функции автоматического выбора тарифа и норматива потребления э/э, исходя из условий, предусмотренных законодательством РФ в сфере энергетики. Расчеты выполняются на `JOIN-ах`

## Основные разделы проекта:
|N|Раздел|Описание|
|------|-------------------|----------------------------|
|1|ERcomany.sql| Создание БД, таблиц, внешних ключей, индексация|
|2| fill_ERC.sql| Заполнение БД тестовыми данными|
|3| procedures_ERC.sql| Содержит процедуры, необходимые для осуществления расчетов за потребленную э/э. Содержит функцию контроля корректного выбора норматива потребления э/э|
|4| triggers_erc.sql| Триггеры: блокировка выбора некорректного тарифа и норматива потребления в ЛС в зависимости от параметров (тип дома и квартиры потребителя), триггеры контроля коэффициента трансформации ТТ при формировании системы учета (должны быть одинаковые коэффициенты трансформации), триггеры изменения расчетного коэффициента в таблице metering_devices при добавлении/изменении/удалении строки таблице measurement_systems, триггер контроля уникальности значений (дом + № кв) и уникальности номера прибора учета в лицевых счетах, триггер отвязки ПУ со статусом "снят" и "необходима поверка" от лицевого счета, чтобы ПУ не участвовал в расчетах|
|5|Selections_ERC.sql| Запуск расчетов за потребленную э/э с сохранением результатов в таблице energy_accounting, типовые запросы к БД, включая представления и оконные функции
